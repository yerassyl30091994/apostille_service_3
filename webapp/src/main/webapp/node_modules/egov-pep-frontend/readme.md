# Release v2.18.7

# 2.18.*

2.18.7 - Callback при OTP подписании для валидации данных в момент подписания, но до отправки запроса

# 2.17.*

2.17.15 - Переверстал макет для режима слабовидящих, pod, pep

2.17.14 - Fix pep layout

2.17.13 - Call Center 1414, fix layout, fix footer links

2.17.12 - Добавление нового пункта в toolbar, переверстал usermenu, локализация

2.17.11 - Увеличено расстояние между кнопками согласования и вынесли transclude для согласующего

2.17.10 - Добавлены коды статуса ГО "IISCON_CANCELLED", "IISCON_HANDED", "IISCON_READY"

2.17.9 - Добавлен статус ГО "IISCON_FINISHED_REJECTION"

2.17.8 - Новые услуги P2.05, P2.06, P2.07, P2.08, P2.09, P2.10. Добавлен новый статус для request-states и declaration. Фиксы статик-сервера. Фиксы модальных окон.

2.17.7 - Новая услуга S001ChildPosition.

2.17.6 - Поправил отображение модальных окон, теперь содержимое остается доступным для заполенения при минимальных размерах браузера. Допинал модалки, теперь они адаптивны для мобилок. Отступы в POD версии. Доработал закрытие окна по клику на пустом фрейме для удобаства.

2.17.5 - Решена проблема date фильтра для ангуляра 1.3+

2.17.4 - Исправил docupload в части верного отображения типа документа в соответствии локали

2.17.3 - Исправил отображение ошибки при неправильном формате и размере в docupload. Адаптировал статик сервер к мобильным услугам, добавил sso условия. Добавил некоторые услуги. 

2.17.2 - Убрал логирование.

2.17.1 - Прыгают шаги при открытие услуги, при переходе из лк.

2.17.0 - На статусной странице если авторизованный это согласующий для него будет все скрыватся кроме таблицы согласующего если по ресту rest/app/isApprover?requestNumber= будет приходить true. Для всех остальных случаев все остается по прежнему.
В docupload-е пагинацию переместили вверх и убрали фиксированную высоту.

# 2.16.*

2.16.3 - Поправил высоту блока для ранее загруженных файлов и вывел текст если нету ранее загруженных файлов.

2.16.2 - Показываем кнопку Обновить для статуса NOT_PAID.

2.16.1 - Добавил новый статус TIME_OUT_PAY_ORDER.

2.16.0 - Добавил новый компонент для загрузки фото 3х4. imageCropper

# 2.15.*

2.15.4 - EGOV-6037: Доработан компонент choice-sign

2.15.3 - docupload, фикс multiple, добавил во все циклы track by $index

2.15.1 - docupload ошибка в условии.

2.15.0 - Добавил в docupload пагинацию для ранее загруженных файлов. Автогенерация Id компонента. Фик с загрузкой новых документов, при повтороной загрузке нового документы, один документ загружался N+1 раз. Оптимизация общего frontEnd - использование ng-bind вместо {{ }} (Пока по необходимости).

# 2.14.*

2.14.8 - EGOV-6564: Доработан поиск в хедере

2.14.7 - Поправил локаль в datafield.

2.14.6 - Добвлен статус IN_QUEUE.

2.14.5 - Доработка статуса NOT_PAID. По этому статусу завершается оказания услуги и выводится причина.

2.14.4 - Правка локали operatot, Dste. Добавление статуса NOT_PAID.

2.14.3 - Поправил баг с отображением в МЭЦП и локаль.

2.14.2 - Поправлен перевод загрузчика вместо download сделали upload.

2.14.1 - Добавил редирект в SSO если статус 302.

2.14.0 - Везде где ЦОН заменили на НАО ГК «Правительство для граждан». В UIN notRequired сделали двустороннее связывание. Убрали редирект на ссо при ошибке по current-user-у.

# 2.13.*

2.13.2 - Фикс отображения частичного интерфейса ПОД'а.

2.13.1 - Фикс отображения частичного интерфейса ПОД'а.

2.13.0 - Добавил поле version в модель docupload-а. При выборе ранее загруженных файлов могут быть документы с одинаковым documentId, и поэтому чтобы определить нужно дополнительно к documentId отправлять version.

# 2.12.*

2.12.15 - Добавил звездочку в аккардион и пофиксил UIN.

2.12.14 - Добавил переход на страницу авторизации если произошла ошибка на ресте current-user

2.12.13 - Добавил функцию проверки на пустое, undefined, null значение в сервис $declaration. В hierarchial-dictionary сделал уотчер на внешнюю модель, если очищается внешняя модель, то и внутренняя тоже.

2.12.12, 2.12.11 - Поправка bill-approve: удалил функцию которая возвращает значение в зависимости от локали и вынес его во вьюшку.

2.12.10 - Поправили eds-service, сделано очистка модели аплета когда соединение с вебсоккетом закрывается.

2.12.9 - Правка текста "профиль" и контрастный режим числового поля.

2.12.8 - Починка UIN и модальника при контрастном режиме.

2.12.7 - categories-config.js: Добавлена новая категория "Правовая помощь".

2.12.6 - Правка локализации справочника ИСАР.

2.12.5 - Доработка docuploadа: Теперь при мультизагрузке каждый файл показывается по отдельности с возможностью удаления каждого отдельно. Теперь при инициализации загрузчика данные не очищаются если они есть.

2.12.4 - Правка UIN. Сделали вывод срока и алиас для МЭЦП. Правка стилей для контраста.

2.12.3 - Локализация на английский.

2.12.2 - Починил UIN, сделал чтобы очищалась модель при невалидном статусе.

2.12.1 - SP-2326: Правка компонента docupload, теперь модель получает информацию о выборе файла из ранее загруженных
    только после нажатия на кнопку "Выбрать файл".
    Статик сервер настроен на https.

# 2.11.*

2.11.9 - Правка адреса в модальнике информаций о заявителе.

2.11.8 - Починка мультизагрузчика и В bill-approve добавили возможность подписи через МЭЦП. Включается добавлением свойства need-m-eds="true".

2.11.7 - Отключили keepalive

2.11.6 - Для ЮЛ добавил обработку статуса 033 - Субъект с указанным БИН является ИПс

2.11.5 - Fix docupload: Reset value "input type=file" after upload

2.11.4 - Для БИН добавил проверку на статус 031 - "Субъект с указанным БИН не зарегистрирован"

2.11.3 - EGOV-7481: Добавил проверку режима (ПЭП/ПОД). В ПОДе в rest/like отправляю UIN заявителя, в ПЭПе - по-прежнему - UIN текущего пользователя.
    EGOV-7516 и EGOV-7517: Поправил текстовки для статуса PROCESSED в файлах локализаций.

2.11.2 - Поменяли поведение UIN теперь по умолчанию статусы не проверяются, для проверки нужно включить добавив атрибут uin-status="check", для того чтобы проверить на определенные статусы, то нужно их перечислить через запятую и пробел  uin-status="MISSING, ABSENT, 034". Пофиксили баг docupload.

2.11.1 - Добавил категорий (payments, family, work) рубрикатора.

2.11.0 - Включили английскую локаль. Починка багов локализации. Добавлена возможность в иерархический справчник hierarchial-dictionary выбор любого звена для того чтобы выбрать нужный адрес.

Вернул categories-config.js во фронтенд и выпилил из рубрикатора.

# 2.10.*

2.10.4 - Добавлен в проверку статуса новый новый статус НЕДЕЕСПОСОБНЫЙ INCAPACITATED.

2.10.3 - Фикс бага, когда при нажатии на кнопку "Подписать" ничего не происходило в браузерах Chrome 47 версии и выше.

2.10.2 - Фикс бага UIN по проверке актуальных документов

2.10.1 - Добавил возможность проверить актуальность документов. По умолчанию оно не проверяется. Для того чтобы оно проверялось нужно прописать атрибут check-actual-documents="true".

2.10.0 - Добавил возможности проверки возраста и невалидные статусы для UIN. По умолчанию возраст не проверяется. Если нужно проверить нужно добавить атрибут check-age="и возраст на который нужно проверить". А не валидные статусы по умолчанию проверяются. Если нужно убрать проверку нужно написать любой не валидный статус uin-status="notCheck", а если нужно проверить на определенные статусы то нужно прописать через запятую и пробел uin-status="DEAD, MISSING, 034".

# 2.9.*

2.9.10 - EGOV-7227: Фикс сервиса declaration и компонента requestStates. В declaration добавлены методы для проверки доступности
    кнопок "Обновить" и "Новый запрос" (соответственно, в requestStates кнопки отображаются/скрываются по вызову этих методов в ng-if).
    Переопределяя эти методы в $declaration внутри услуги, можно определять свои правила поведения этих кнопок.

2.9.9 - EGOV-6665: Фикс сервиса declaration. В rest/like теперь отправляется UIN текущего пользователя вместо UIN заявителя

2.9.8 - EGOV-7301: Фикс компонента requestStates. Добавлена обработка статуса "просрочено" для согласующих

2.9.7 - EGOV-6553: Фикс компонента docupload. Текст ошибки при загрузке документа заменен на стандартный TECH_ERROR

2.9.6 - EGOV-6099: Фикс компонента requestStates. Текст с причиной отказа на шаге будет отображаться только если он не будет пустым, так как некоторые ГО не возвращают причину отказа

2.9.5 - beta. Delete angular-messages and caret. Delete ngMessage from app. Находится в ветке dev-beta. Его мержить не надо.

2.9.4 - Фикс компонента choiceSign. Исправлена проблема отображений подписаний на ПОДе

2.9.3 - Добавление переводов сообщений для компонента choiceSign

2.9.2 - Фикс номера и телефона

2.9.1 - Доработки по АР

2.9.0 - Добавил в session phoneNumber и email, В request-states отказу меняем статус из DECLINED на CANCELED, локализованы шаги итд

# 2.8.*

2.8.3 - Изменения в компоненте choice-sign. Теперь все достпуные виды подписания услуги будут отображаться в списке, но при переходе на них (если у заявителя выбранный тип подписания не доступен) будет сообщение с отказом и рекомендациями

2.8.2 - Переключил путь статик ресурса из НИТа на офисный

2.8.1 - В categories-config.js удалены конфиги, оставлена пустая константа, чтобы не ломать провайдер. Константа перенесена в рубрикатор

2.8.0 - Снята с публикации: Удалил categories-config.js и перенес его в рубрикатор

# 2.7.*

2.7.8 - При unpublish 2.8.0 latest стал 3.0.3, поэтому этот пустой патч

2.7.7 - Добавили условие сохранение пароля ЭЦП для оператора ЦОН, теперь пароль сохраняется только если мы на ПОДе и только если оператор ЦОН

2.7.6 - Правка багов по ЭЦП

2.7.5 - Правка багов по ЭЦП

2.7.4 - Правка багов по ЭЦП

2.7.3 - Исправлены баги по ИСАР подробнее: https://bitbucket.org/inessoft/egov-pep-frontend/commits/2df06ff82a81cb7457d09a71ba959c7f7dbbe898

2.7.2 - Добавил условие который также смотрит на static-recources для проверки валидности сертифката на соответсвие с ИИН заявителем или нет. 'NO_MATCH_UIN': true - нет проверки UIN ЭЦП с UIN заявителем, false - есть проверка UIN ЭЦП с UIN заявителем

2.7.1 - Добавил условие подключение скрипта static-recources.js. Если домен локальный то подключаем по абсолютному пути.

2.7.0 - Добавил ЭЦП конфигуратор, теперь проверка валидности даты ЭЦП осуществляется из static-recources. Через static-recources можно управлять этой проверкой.
По умолчанию и когда не доступен статик проверка валидности даты ЭЦП осуществляется. Когда В static-recources NO_CHECK_DATE: true - проверки нет, false - проверка есть

# 2.6.*

2.6.8 - Компонент подписания: <step id="sign"...> перенесен из директивы egovChoiceSign в шаблон app\declarations\_steps\sign-declaration.html, что позволит в услугах в шаблон шага подписания добавлять другие UI-компоненты помимо, собственно, компонента подписания.

2.6.7 - МЭЦП: отправка ИИН для ПОД

2.6.5 - SP-2261 [P80.01]: изменить срок оказания услугиДобавил дополнительный срок оказания услуги status.estimates.h4

2.6.4 - Add min, max to numberbox.

2.6.3 - Add ngMask. В услуге нужно выполнить: bower install angular-mask --save

2.6.2 - hierarchial-dictionary: Добавил возможность получать код для ОКЕД справочника

2.6.1 - isar-dictionary: Исправлена передача/обработка атрибута name (см. релиз 2.5.28)

2.6.0 -  Добавлен новый апплет нуца для подписания Kalkan (0.1.1) и изменен сервис eds (eds-service.js) для работы с новым апплетом

# 2.5.*

2.5.33 - directives\request-states: добавлен атрибут disable-group-agreement, позволяющий из услуги отключить отображение блока согласования

2.5.32 - Bug fix approvalRequestNumber

2.5.31 - На статусной странице при согласований на $eds.apply отправляю ответ реста xml-approval не ввиде объекта а именно xml и для xml-approval добавил requestNumber процесса согласования

2.5.30 beta - Добавлен новый апплет нуца для подписания Kalkan (0.1.1) и изменен сервис eds (eds-service.js) для работы с новым апплетом

2.5.29 - EGOV-6437: Во враппер добавлены скрипты на случай если статик не будет доступен, в индексе добавил тег для вызова скрипта из статика

2.5.28 - isar-dictionary: добавлен необязательный атрибут name -  уникальное (в рамках услуги) имя объекта. Если не указано то по-умолчанию присваивается имя "default".
         Фиксит багу, когда 2-й и более объект выбора адреса на услуге не работает в следствие совпадения имен различных групп радио-кнопок.
         + кнопка ЭЦП подписания согласования переименована в "Подписать" (https://inessoft.atlassian.net/browse/EGOV-6289?focusedCommentId=155798&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-155798)

2.5.27 - Добавлена (исправлена) категория "семья" для рубрикатора (пропала после релиза 2.5.9)

2.5.26 - Добавлено сообщение во враппере если браузер Chrome и его версия 45 или выше. Также добавлен перевод нескольких полей для услуга K10.09: костыль в компоненте request-states и название шага на казахском

2.5.25 - Добавил новую директиву numberbox

2.5.24 - Для иерархического справочника с типом TAX_STRUCTURES (Орган госдоходов) поменял модель, добавив код.

2.5.23 - EGOV-6260: При разлогировании пользователя поменял перезагрузку текущей страницы на загрузку корневой.

2.5.22 - EGOV-6302: Добавил проверку на ИИН, и При отправке кода ОТП под ПОДом отправляем и ИИН пользователя

2.5.21 - isar-dictionary: поправка длины РКА

2.5.20 - isar-dictionary: добавлен ФЛК для ввода РКА

2.5.19 - directives/declaration: Добавлено отображение данных о согласующем лице в шапке контента (таск https://inessoft.atlassian.net/browse/EGOV-5257 "Сведения о пользователе при согласовании")
         services/session: Добавлен заголовок Cache-Control = no-cache в вызов реста rest/current-user для предотвращения кэширования данных сессии
         Отдельным коммитом в directives/request-states добавил еще одно состояние заявления PREPARING_REQUEST, нужное для услуг, в которых согласование осуществляется до подписания основного заявления

2.5.18 - wrapper: Исправлено неправильное отображение количества сообщений и уведомлений в маркере индикатора, если количетсво уведомлений больше 99

2.5.17 - wrapper: Исправлена проблема, когда страница постоянно обновлялась. Проблема была из-за индикатора

2.5.16 - docupload: для кнопки на казахском языке не хватало viewModel.oldFileSelectedDownloadUrl = oldFile.downloadUrl
         wrapper: фиксы индикатора и исправления стилей

2.5.15 - docupload: поправил неправильную ссылку на выбранный ранее загруженный файл

2.5.14 - docupload: поправил ошибку в выборе ранее загр. файла

2.5.13 - wrapper: исправление багов в индикаторе: изменение урлы реста, чтобы все работало и локально, и на тестовых стендах, плюс исправлена проблема с подсчетом количества уведомлений

2.5.12 - wrapper: добавлен индикатор уведомлений в хедере страницы, в котором показывается список уведомлений, ссылающийся на личный кабинет пользователя

2.5.11 - docupload: немного изменен интерфейс выбора ранее загруженного файла

2.5.10 - Для случаев когда рест verification-types не доступен или не подключен на бекенде, сделали чтобы не кидало тех ошибку a перекидваем на ЭЦП. EGOV-5676. EGOV-5285. EGOV-6082.

2.5.8 и 2.5.9 - Бета версия для рубрикатора туда добавили новую категорию.

2.5.7 - Починили картинки. И в request-states поменял условия для списка согласующих.

2.5.6 - мобильник, но он снят с публикации в связи с переносом в новый репозиторий

2.5.5 - Datafield: добавил флаг для того чтобы скрыть title. OTP: теперь вызов реста app/get-mbg-phone будет происходит только по кнопке Подписать, используя СМС-пароль
        Sign: Изменены пути рестов: rest/app/user-phones заменен на rest/msign/user-phones, rest/app/get-mbg-phone заменен на rest/mcdb/user-phone, rest/app/gen-otp заменен на rest/otp/generate

2.5.4 - Добавил изменения в компонент uin. Так как в некоторых услугах поле с поиском по ИИН/БИН не обязательный, звездочку, символизирующую обязательность поля нужно убирать. Аттрибут not-required="true"

2.5.3 - Фикс кнопки обновить для статуса ожидание подписания по МЭЦП, На ПОДе спрятали номер и показываем последние 4 цифры

2.5.2 - Фикс статуса.

2.5.1 - Фикс ОТП и выбора способа подписания: Поменял название реста для получения выбора способов подписания и добавил условия для передачи пользовательских данных по ОТП

2.5.0 - feature: кеш шрифтов очищается после каждой новой сборки

2.5.0 - Добавил возможность ввода ИИН на ПОДе для ОТП и МЭЦП
>>>>>>> develop
