angular.module("app").service('$cookie', ['$q', '$timeout', function ($q, $timeout) {
    return {

        get: function (name) {
            return $.cookie(name);
        },

        getWithPromise: function (name) {
            var deferred = $q.defer();

            $timeout(function () {
                deferred.resolve($.cookie(name));
            }, 0);

            return deferred.promise;
        },

        getAll: function () {
            return $.cookie();
        },

        set: function (name, value, options) {
            options = options || {};
            return $.cookie(name, value, options);
        },

        setTo: function( name, value, domain ){
            return $.cookie(name, value, { path: domain });
        },
		
		setToDomain: function(name, value, path, domain){
			return $.cookie(name, value, { path: path, domain: domain });
		},

        delete: function (name, options) {
            options = options || {};
            return $.removeCookie(name, options);
        },

        deleteFrom: function (name, path) {
            return $.removeCookie(name, { path: path });
        }
    }
}]);