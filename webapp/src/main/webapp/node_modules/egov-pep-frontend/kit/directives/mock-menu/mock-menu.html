<div class="side-bar" ng-if="$mockService.getIsLoaded() === true">
    <ul>
        <li><a href="#" ng-click="toggleMocking()" ng-bind="'Мокинг' + ' ' + ($mockService.getIsEnabled() === true ? 'ВКЛЮЧЕН' : 'ВЫКЛЮЧЕН')"></a></li>
        <li><a href="#" ng-click="toggleRecording()" ng-bind="'Запись' + ' ' + ($mockService.getIsRecording() === true ? 'ВКЛЮЧЕНА' : 'ВЫКЛЮЧЕНА')"></a></li>
        <li><a href="#" ng-click="toggleMenu()">Меню</a></li>
    </ul>
    <div class="menu" ng-show="showMenu === true">
        <div class="menu-nav">
            <input type="button" ng-click="toggleMocking()" value="Мокинг {{$mockService.getIsEnabled() === true ? 'ВКЛЮЧЕН' : 'ВЫКЛЮЧЕН'}}" />
            <input type="button" ng-click="toggleRecording()" value="Запись {{$mockService.getIsRecording() === true ? 'ВКЛЮЧЕНА' : 'ВЫКЛЮЧЕНА'}}" />
            <input type="button" ng-click="toggleMenu()" value="Закрыть" />
        </div>
        <div class="menu-content">
            <div>
                <h4>Сценарии для текущей услуги</h4>
                <table class="xGreenStyledTable">
                    <tbody>
                        <tr>
                            <td>Сценарий</td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr ng-repeat="scenario in contextScenarios">
                            <td ng-bind="scenario.getName()"></td>
                            <td><a href="#" ng-click="$mockService.activateScenario(scenario)">Применить сценарий</a>  </td>
                            <td><a href="{{$mockService.getScenarioUrl(scenario)}}">Запустить сценарий</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h4>Активные моки</h4>
                <table class="xGreenStyledTable">
                    <tbody>
                        <tr>
                            <td>MockId</td>
                            <td>Method</td>
                            <td>Url</td>
                            <td>UrlCondition</td>
                            <td></td>
                        </tr>
                        <tr ng-repeat="mock in $mockService.getActiveMocks()">
                            <td ng-bind="mock.getId()"></td>
                            <td ng-bind="mock.getMethod()"></td>
                            <td ng-bind="mock.getUrl()"></td>
                            <td ng-bind="mock.getUrlCondition()"></td>
                            <td><a href="#" ng-click="$mockService.removeActiveMock(mock)">Удалить</a> </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h4>Записанные ответы от REST-сервисов</h4>
                <table class="xGreenStyledTable">
                    <tbody>
                        <tr>
                            <td>ResponseObjId</td>
                            <td>Method</td>
                            <td>Url</td>
                            <td>UrlCondition</td>
                            <td></td>
                        </tr>
                        <tr ng-repeat="responseObj in $mockService.getRecordedResponses()">
                            <td ng-bind="responseObj.id"></td>
                            <td ng-bind="responseObj.method"></td>
                            <td ng-bind="responseObj.url"></td>
                            <td ng-bind="responseObj.urlCondition"></td>
                            <td><a href="#" ng-click="$mockService.removeRecordedResponseObj(mockresponseObj)">Удалить</a> </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h4>Генерация JavaScript сценария</h4>
                <div class="scenario-generation-controls">
                    <label>
                        Название сценария: <input type="text" ng-model="scGenConfig.scenarioName" />
                    </label>
                    <br />
                    <label>
                        <input type="checkbox" ng-model="scGenConfig.generalizeRequestStates" /> Убрать привязку request-states к RequestId в моках
                    </label>
                    <br />
                    <input type="button" ng-click="printScenario()" value="Сгенерировать JavaScript файл" />
                    <input type="button" ng-click="$mockService.clearRecordedResponses()" value="Очистить таблицу ответов" />
                </div>
            </div>
            <div>
                <h4>Сгенерированный JavaScript сценарий</h4>
                <div class="printed-scenario"></div>
            </div>

        </div>
    </div>
</div>

