<div>
    <div class="middle-wrapper">
        <!----------Кнопки выбора способа подписания. Показываются когда способов подписания больше 1--------------->
        <div class="otp-eds-sign" data-ng-show="numberSign > 1 && $egovChoiceSignService.vTypes.choiceSign.show" data-ng-hide="!$egovChoiceSignService.vTypes.choiceSign.show">
            <button class="button-type button-action button-large button-otp" ng-click="$egovChoiceSignService.signByOTP();" data-ng-show="$egovChoiceSignService.vTypes.byOTP.available">
                {{ 'choiceSign.byOTP' | translate }}
            </button>
            <button class="button-type button-action button-large button-edp" ng-click="$egovChoiceSignService.signByEDS()" data-ng-show="$egovChoiceSignService.vTypes.byEDS.available">
                {{ 'choiceSign.byEDS' | translate }}
            </button>
            <!--По ней $egovChoiceSignService.getPhones() вызывается рест получения списка номеров и сертификатов. Функция находится в компоненте egov-m-eds -->
            <button class="button-type button-action button-large button-sms-send"
                    ng-click="$egovChoiceSignService.signByMobEDS(); $egovMEds.getPhones($session.uin);"
                    data-ng-show="$egovChoiceSignService.vTypes.byMobEDS.available">
                {{ 'choiceSign.byMobEDS' | translate }}
            </button>
            <button class="button-type button-action button-large button-bio" ng-click="$egovChoiceSignService.signByBIO();" data-ng-show="$egovChoiceSignService.vTypes.byBIO.available">
                {{ 'choiceSign.byBIO' | translate }}
            </button>
        </div>
    </div>


    <!----------Подписать по ЭЦП. Показываем когда нажимаем на кнопку или когда способ подписания только этот--------------->
    <div data-ng-show="$egovChoiceSignService.vTypes.byEDS.show">
        <eds namespace="sign"></eds>
        <br/>
        <br/>
        <button class="button-type button-subaction eds-back-button back-button"
                ng-click="$egovChoiceSignService.back();"
                transclude-to="modal-left-buttons"
                data-ng-hide="numberSign == 1 && !$egovChoiceSignService.vTypes.choiceSign.show || $egovChoiceSignService.backButtonHide">
            {{ 'eds.backArrow' | translate}}
        </button>
    </div>
    <!-------Конец: Подписать по ЭЦП---------->


    <!----------Подписать по СМС. Показываем когда нажимаем на кнопку или когда способ подписания только этот--------------->
    <div data-ng-if="$egovChoiceSignService.vTypes.byOTP.show">
        <div data-ng-if="$egovChoiceSignService.vTypes.byOTP.registered">
            <egov-otp data="data" callback="$egovChoiceSignService.otpCb" availability="$egovChoiceSignService.vTypes.byOTP.show"></egov-otp>
        </div>
        <div data-ng-if="!$egovChoiceSignService.vTypes.byOTP.registered">
            <div class="middle-wrapper fieldset-pad">
                <label>
                    {{'choiceSign.notRegisteredOTP' | translate}}
                </label>
                <div>
                    <br/>
                    <a class="link-extended"
                       target="_blank"
                       href="http://my.egov.kz/">
                 <span class="ng-binding">
                    {{'choiceSign.goToPO' | translate}}
                 </span>
                    </a>
                </div>
            </div>
        </div>
        <button class="button-type button-subaction eds-back-button back-button"
                ng-click="$egovChoiceSignService.back();"
                transclude-to="modal-left-buttons"
                data-ng-hide="numberSign == 1 && !$egovChoiceSignService.vTypes.choiceSign.show || $egovChoiceSignService.backButtonHide">
            {{ 'eds.backArrow' | translate}}
        </button>
    </div>
    <!-------Конец: Подписать по СМС---------->


    <!----------Подписать по Мобильная СМС. Показываем когда нажимаем на кнопку или когда способ подписания только этот--------------->
    <div class="middle-wrapper" data-ng-if="$egovChoiceSignService.vTypes.byMobEDS.show">
        <div data-ng-if="$egovChoiceSignService.vTypes.byMobEDS.registered">
            <egov-m-eds data="data" callback="$egovChoiceSignService.msignCb"></egov-m-eds>
        </div>
        <div data-ng-if="!$egovChoiceSignService.vTypes.byMobEDS.registered">
            <div class="middle-wrapper fieldset-pad">
                {{'choiceSign.notRegisteredMobEDS' | translate}}
            </div>
        </div>
        <button class="button-type button-subaction eds-back-button back-button"
                ng-click="$egovChoiceSignService.back();"
                transclude-to="modal-left-buttons"
                data-ng-hide="numberSign == 1 && !$egovChoiceSignService.vTypes.choiceSign.show || $egovChoiceSignService.backButtonHide">
            {{ 'eds.backArrow' | translate}}
        </button>
    </div>
    <!-------Конец: Подписать по СМС---------->

    <!----------Подписать по БИО. Показываем когда нажимаем на кнопку или когда способ подписания только этот--------------->
    <div data-ng-if="$egovChoiceSignService.vTypes.byBIO.show">
        <div ng-if="!isSMS" ng-form="bioAuthForm">
            <h2>{{'choiceSign.signByBioHeader' | translate}}</h2>
            <div class="input-wrapper">
                <label class="label-type">{{ ('iin.label') | translate }}</label>
                <div class="ctrl-inner-wrapper">
                    <input ng-value="iin" class="input-type kb_small"
                           type="text" maxlength="12" readonly="readonly"> </input>
                </div>
            </div>
            <button class="button-type button-action" ng-click="startScan(iin)">{{'login.startScan' | translate}}</button>
            <h3 class="bioAuthStatus" data-ng-if="showStatus">{{ ('login.bioScannerStatus' + bioStatus) | translate }}</h3>
        </div>

        <br/>
        <!--Сообщение что пользователь не зарегистрирован в МБГ -->
        <div data-ng-if="errorMessage" class="fieldset-pad">
            <h2>
                {{ 'egov-otp.errorMessage' | translate }}
            </h2>
        </div>
        <!--Конец: Сообщение что пользователь не зарегистрирован в МБГ-->

        <div ng-if="isSMS">
            <h3>{{ getSentText() }}</h3>

            <!--Блок ввода СМС кода-->
            <div>
                <fieldset class="fieldset-pad">
                    <div class="input-wrapper">
                        <label  class="label-type">{{ 'login.confirmSms' | translate }}</label>
                        <input id="code" ng-model="code" class="input-type" type="text"/>
                    </div>
                    <div class="input-wrapper">
                        <button type="button" class="button-type button-action"
                                ng-click="sendCode(code)" ng-disabled="!code">
                            {{ 'login.confirm' | translate }}
                        </button>
                    </div>
                    <div class="input-wrapper" ng-show="!isResend">
                        {{ 'login.resending' | translate }}
                    </div>
                    <div class="input-wrapper" ng-show="isResend">
                        {{ 'login.sended' | translate }}
                        <a class="link-extended" ng-click="newCode(iin)">
                            <span>{{ 'login.resend' | translate }}</span>
                        </a>
                    </div>
                </fieldset>
            </div>
        </div>
        <br>
        <button class="button-type button-subaction eds-back-button back-button"
                ng-click="$egovChoiceSignService.back();"
                transclude-to="modal-left-buttons"
                data-ng-hide="numberSign == 1 && !$egovChoiceSignService.vTypes.choiceSign.show || $egovChoiceSignService.backButtonHide">
            {{ 'eds.backArrow' | translate}}
        </button>
    </div>
    <!-------Конец: Подписать по БИО---------->
</div>
