<div block="b-header" mod="{ contrast: $settings.isContrast() }" ng-init="size=1" xmlns="http://www.w3.org/1999/html">

    <div block="b-header-top" mod="{ contrast: $settings.isContrast(), font: $settings.getFontMode() }">
        <div block="b-header-width" mod="{ mode: $settings.getViewMode() }">

            <!-- ссылки -->
            <egov-top-menu></egov-top-menu>

            <!--начало лк-->
            <div block="b-userpanel" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                <div block="b-userpanel-login" mod="{contrast: $settings.isContrast()}" ng-if="!$session.uin">
                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                       href="{{$sso.getSsoLoginUrl()}}">{{ 'login.enter' | translate}}</a>
                    <span elem="or-text" mod="{contrast: $settings.isContrast()}">{{ 'login.or' | translate}}</span>
                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                       href="/wps/portal/registration">{{ 'login.reg' | translate}}</a>
                </div>
                <div block="b-userpanel-container"
                     mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast()}" ng-if="$session.uin" ng-click="togglePopup()">
                    <a block="b-userpanel-user-cabinet" mod="{contrast: $settings.isContrast()}" href="#">
                        <span elem="user-name">
                          {{$session.operator.name.lastName || $session.individual.name.lastName  || $session.organization.shortName}} {{$session.operator.name.firstName || $session.individual.name.firstName}}
                        </span>
                        <span elem="arrow"></span>
                    </a>
                    <div block="b-userpanel-user-menu" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                        <div block="b-userpanel-user-menu-body"
                             mod="{contrast: $settings.isContrast(), active:isUserPopup}">
                            <a block="b-userpanel-user-cabinet" mod="{inMenu: true, contrast: $settings.isContrast(), inMenuContrast: $settings.isContrast(),  inMenuContrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', inMenuContrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}" href="#">
                                <span elem="user-name"
                                      mod="{inMenu: true, inMenuNormal: !$settings.isContrast(), inMenuContrast: $settings.isContrast(),  inMenuContrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', inMenuContrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                                    {{$session.operator.name.lastName || $session.individual.name.lastName  || $session.organization.shortName}} {{$session.operator.name.firstName || $session.individual.name.firstName}}
                                </span>
                                <span elem="arrow"></span>
                            </a>
                            <div block="b-menu-list">
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/historyService" ng-bind="'useractions.historyService' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/historyPayment" ng-bind="'useractions.historyPayment' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/historySHEP" ng-bind="'useractions.historySHEP' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/Esedo" ng-bind="'useractions.Esedo' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/notifications_user" ng-bind="'useractions.notifications_user' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="/wps/myportal/MyProfile" ng-bind="'useractions.MyProfile' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       href="{{$personalCabinet.getPersonalCabinetUrl()}}" ng-bind="'useractions.personalCabinet' | translate"></a>
                                </p>
                                <p elem="item" mod="{ normal: !$settings.isContrast()}">
                                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                                       id="logout" href="#" ng-click="$session.logout()" ng-bind="'login.exit' | translate"></a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--конец лк-->
        </div>
    </div>

    <div block="b-header-content" mod="{ contrast: $settings.isContrast()}">
        <div block="b-header-width" mod="{ normal: !$settings.isContrast(), backgroundImg: !$settings.isContrast(), contrast: $settings.isContrast(), backgroundNone: $settings.isContrast()}">
            <!-- логотип начало-->
            <div block="b-logo" mod="{ contrast: $settings.isContrast()}">
                <a href="/" elem="link" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                    <h1 elem="link-img" mod="{ none: $settings.isContrast()}"></h1>
                </a>
                <p elem="text" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}" ng-bind-html="'wrapper.title' | translate"></p>
            </div>
            <!-- логотип конец-->
            <!-- настройка начало-->
            <div block="b-settings" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                <a title="" block="b-settings-button"
                   mod="{normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', contrastButton: $settings.isContrast()}"
                   ng-click="size=1; $root.fontSize = 1; $settings.toggleContrast(); earTrick();"
                   data-on="{{ 'wrapper.contrastModeOn' | translate }}"
                   data-off="{{ 'wrapper.contrastModeOff' | translate }}">
                    <i elem="img" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), eye: true, eyeNormal: !$settings.isContrast(), eyeContrast: $settings.isContrast()}"></i>
                </a>
                <a block="b-settings-button"
                   mod="{ normal: !$settings.isContrast(), normalTheme: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', contrastTheme: $settings.isContrast(), active:  $settings.isContrast()}"
                   ng-click="$root.$settings.toggleContrastTheme()"
                   data-title="{{ 'wrapper.adjust' | translate }}">
                    <i elem="img" mod="{contrast: true, adjust:true}"></i>
                </a>
                <a block="b-settings-button"
                   mod="{ normal: !$settings.isContrast(),  normalTheme: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', contrastTheme: $settings.isContrast(), contrastThemeActiveLight:$settings.contrastTheme() === 'light' && size==1, contrastThemeActiveDark:$settings.contrastTheme() === 'dark' && size==1}"
                   data-title="{{ 'wrapper.size-1' | translate }}"
                    ng-click="size=1; $root.fontSize = 1;" >
                    <span elem="size-1">A</span>
                </a>
                <a block="b-settings-button"
                   mod="{ normal: !$settings.isContrast(),  normalTheme: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', contrastTheme: $settings.isContrast(), contrastThemeActiveLight:$settings.contrastTheme() === 'light' && size==2, contrastThemeActiveDark:$settings.contrastTheme() === 'dark' && size==2}"
                   data-title="{{ 'wrapper.size-2' | translate }}"
                   ng-click="size=2; $root.fontSize = 2;">
                    <span elem="size-2">A</span>
                </a>
                <a block="b-settings-button"
                   mod="{ normal: !$settings.isContrast(),  normalTheme: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', contrastTheme: $settings.isContrast(), size3: true, contrastThemeActiveLight:$settings.contrastTheme() === 'light' && size==3, contrastThemeActiveDark:$settings.contrastTheme() === 'dark' && size==3}"
                   data-title="{{ 'wrapper.size-3' | translate }}"
                   ng-click="size=3; $root.fontSize = 3;">
                    <span elem="font-size-3">A</span>
                </a>
            </div>
            <!--настройка конец-->
            <!--поиск начало-->
            <div block="b-search" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                <form block="b-search-box" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}" ng-submit="viewModel.pepSearch(findQuery)">
                    <button elem="button" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                            type="submit">&nbsp;</button>
                    <input elem="input" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                           type="text" placeholder="{{'wrapper.searchPlaceholder' | translate}}"  ng-model = "findQuery">
                </form>
                <div block="b-search-example" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"> {{'wrapper.searchExampleTitle' | translate}}:
                    <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                       href="#" ng-click="setSearchValue()">{{'wrapper.searchExampleText' | translate}}</a>
                </div>
            </div>
            <!-- поиск конец-->
            <!--колл центр начало-->
            <div block="b-callcenter" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                <div elem="container" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                    <span elem="title" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                        {{'wrapper.call_center' | translate}}</span>
                    <span elem="phone" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                        <a elem="phone-link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}" href="http://www.1414.kz/" >
                            <span elem="short-number" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">1414</span>
                        </a>
                        <span elem="phone-number" mod="{ normal: !$settings.isContrast()}">8-800-080-7777</span>
                    </span>
                    <span elem="free" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">{{'wrapper.free_call' | translate}}</span>
                </div>
            </div>
            <!--колл центр-->
            <!--языки начало-->
            <div block="b-language">
                <ul block="b-language-list" mod="{ contrast: $settings.isContrast()}">
                    <li elem="item" ng-repeat="lang in $locales.all()"
                        mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}">
                        <a href="#" elem="link" mod="{contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark', active: $locales.currentNoEmulate() === lang && !$settings.isContrast(), contrastLightActive: $locales.currentNoEmulate() === lang && $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDarkActive: $locales.currentNoEmulate() === lang && $settings.isContrast() && $settings.contrastTheme() === 'dark'}"
                           ng-click="$locales.choose(lang);">
                            {{ ('localeShort.'+lang) | translate }}
                        </a>
                    </li>
                </ul>
            </div>
            <!--языки конец-->
        </div>
    </div>

    <div block="b-header-botoom" mod="{ contrast: $settings.isContrast()}">
        <div block="b-header-width"  mod="{normal: !$settings.isContrast(), contrast: $settings.isContrast()}">
            <!-- начало хлеб-крошки-->
            <div block="b-breadcrumbs">
                <a elem="link" mod="{ normal: !$settings.isContrast(), contrast: $settings.isContrast(), contrastLight: $settings.isContrast() && $settings.contrastTheme() === 'light', contrastDark: $settings.isContrast() && $settings.contrastTheme() === 'dark'}" href="/" ng-bind="'wrapper.mainMenu1' | translate"></a>
            </div>
            <!-- конец хлеб-крошки-->
        </div>
    </div>
</div>
