Загрузка файлов
==================


``html
<docupload code="код справочника ХЭД" model="какое-либо поле модели" id="уникальный id на форме" showDoctypeHeader="true"></docupload>
``
Атрибут code - код какого-либо документа из справочника EDS_SCAN_DOC_TYPE. Может быть указан один или несколько.
Атрибут access - разрешенный формат документа, перечисляется через запятую в следующем ввиде ="pdf,png" - не обязательный атрибут
Атрибут max-size - максимально разрешенный размер, указывается в мегабайтах ="2", ="1.5" - не обязательный атрибут
пример с одним кодом: code="Z1003"
пример с несколькими кодами: code="Z1003,Z1004,Z1005" - бех пробела
Атрибут pageSize - количество записей, выводимых в построничном отображение, для ранее загруженных файлов.
Атрибут show-doctype-header - показывает текст "Загрузите или выберите ранее загруженный файл "название типа файла из ХЭДа"".
Раньше показывался всегда, но Александр данилов и Жулдыз выступили против, и заголовок стал опциональным.
Задавать true или не задавать вообще.
Атрибут hide-old-files - убирает возможность использовать ранее загруженные файлы.
Задавать true или не задавать вообще.
Атрибут multiple - добавляет возможность загружать несколько файлов, используется в P90.01.
Задавать true или не задавать вообще.
Атрибут model - После загрузки в model будут помещаться результаты загрузки файла. Формат JSON модели -
    {
        "documentId":"00000000-0000-0075-9930-6285eece2887",
        "processStatus":{
            "code":"SD-001",
            "status":"Success",
            "message":null
         },
         "fileName":"001.png",
         "selectedDocumentType":{
            "id":"5291",
            "nameRu":"Устав (положение)",
            "nameKz":"Устав (положение)",
            "code":"Z1003",
            "name":"Устав (положение)"
         }
     }
    -documentId - идентификатор документа в ХЭД, используется для однозначной идентификации файла
    -processStatus - статус загрузки файла на ХЭД
    -fileName - имя файла
    -selectedDocumentType - тип документа ХЭД, в нем id - идентификатор записи в ХЭД, не нужно его использовать.
    -code - код типа документа в справочнике EDS_SCAN_DOC_TYPE. Остальные - имена типа файлов на рус. и каз. яз.


    Так же, если пользователь выбрал использование ранее загруженного документа, то в модель попадут данные загруженного ранее файла, в виде
     {
        "documentId":"00000000-0000-0075-9930-6285eece2887",
        "version":"1",
        "fileName":"001.png",
        "selectedDocumentType":{
            "id":"5291",
            "nameRu":"Устав (положение)",
            "nameKz":"Устав (положение)",
            "code":"Z1003",
            "name":"Устав (положение)"
         }
     }
     как видно, модели совпадают, только во втором случае нет processStatus, но он тут и не нужен.
     И добавилось version, в ранее загруженных файлах может быть документы с одинаковым ИД, поэтому версию документа нужно отправлять обязательно.
     Если загрузили новый то он будет вида
     {
        "documentId": "00000000-0000-2e5f-ddfc-ea8a726af3dd",
         "processStatus": {
             "code": "SD-001",
             "status": "Success",
             "message": null
         },
         "fileName": "Новый текстовый документ.txt"
     }
Атрибут checkoff - костыльаня штука для P90.01( но может использоваться везде ), необходима чтобы отключать проверку на формат файла если выбран только один файл. Если выбрано несколько файлов - проверка начнет работать.
Задавать true или не задавать вообще.

https://inessoft.atlassian.net/browse/EGOV-3058
аттрибут type-info типа
{
	"items" : [{
			"id" : "5295",
			"nameRu" : "...",
			"nameKz" : "...",
			"code" : "Z1008",
			"name" : "..."
		}
	]
}

Один компонент позволяет загрузить или выбрать только ОДИН файл, не несколько.
P.S. теперь один компонент может загружать несколько файлов, если добавить "multiple=true"

КОМПОНЕНТ НЕ ЗАПУСКАЕТСЯ В ДЕВМОДЕ!