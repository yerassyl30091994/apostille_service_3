<div class="taxpay">

    <div class="input-wrapper">

        <div ng-transclude></div>

        <label class="label-type"><span>*</span>{{"taxpay.taxdep" | translate}}</label>

        <div class="input-wrapper">
            <textarea rows="3" class="input-type kb_no" readonly="readonly" ng-click="modalShow('bb'); hideModal = true;">{{!viewModel.taxComponent && '--' || viewModel.taxComponent.name.full}}</textarea>
        </div>

        <modal ng-if="hideModal" name="bb" data-ng-title="taxpay.title">
            <br/>
            <hierarchial-dictionary type="TAX_STRUCTURES" component-model="viewModel.taxComponent"></hierarchial-dictionary> <br/>

            <div class="actions">
                <button class="button-type button-subaction no-background" transclude-to="modal-left-buttons" ng-click="$modal.hide('bb');$root.$modal.onClose();">{{ 'button.cancel' | translate }}</button>
                <button class="button-type button-action" transclude-to="modal-right-buttons" ng-click="$modal.hide('bb');" ng-disabled="!viewModel.taxComponent.selectIsAvailable">{{  'button.save' | translate }}</button>
            </div>
        </modal>

        <div class="input-wrapper" ng-show="showTerm">
            <label class="label-type"><span>*</span>{{"taxpay.term" | translate}}</label>

            <choose data-ng-title="taxpay.changeTerm" name="taxPeriod" values="viewModel.years" keyboard="kb_small" selected="viewModel.taxperiod"></choose>

        </div>

        <div class="input-wrapper">
            <!--TODO: Внутри label должен быть <span>*</span>-->
            <label class="label-type">{{"AMOUNT" | translate}}</label>
            <input id="amountValue" data-ng-hide="justread == 'true'" class="input-type monospace ng-valid-number ng-invalid ng-invalid-proc ng-dirty kb_small"
                   ng-model="amount"
                   ng-focus="amountFocus = true"
                   ng-blur="amountFocus = false"
                   type="text">
            <input id="amountValue" data-ng-show="justread == 'true'" class="input-type monospace ng-valid-number ng-invalid ng-invalid-proc ng-dirty kb_no"
                   ng-model="amount"
                   ng-focus="amountFocus = true"
                   ng-blur="amountFocus = false"
                   readonly="readonly"
                   type="text">
        </div>

        <information activate="amountFocus || $root.$keyboard.activatedFor('amountValue')">
            <b>{{ 'taxpay.amount.title' | translate }}</b>
            <p>{{ 'taxpay.amount.mess' | translate }}</p>
            <div class="amountHelp"></div>
        </information>


    </div>
</div>