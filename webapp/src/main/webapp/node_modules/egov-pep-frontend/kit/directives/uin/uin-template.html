<div class="uin" ng-init="$keyboard = $root.$keyboard">

    <div ng-show="!viewModel.search">

        <div class="input-wrapper">

            <label ng-init="uid = uid()" for="{{uid}}" class="label-type"><span ng-if="!notRequired">*</span>{{ (ngTitle || title || 'uin.label') | translate }}</label>


            <div ng-show="!hideSearch && type == 'bin'" class="link-forgot">
                <ref ng-click="viewModel.search = true; uin = ''">{{ 'uin.forgot' | translate}}</ref>
            </div>

            <div class="ctrl-inner-wrapper" ng-class="{ 'data-invalid' : viewModel.haveErrors, 'data-invalid-orange': viewModel.haveWarnings, 'data-is-ok': viewModel.info }">

                <validation-message prefix="uin" errors="viewModel.errors" warnings="viewModel.warnings">
                    <input ng-model="viewModel.inputModel"
                           class="input-type kb_small"
                           type="text"
                           maxlength="12"
                           id="{{uid}}"
                           ng-focus="viewModel.uinFocus = true"
                           ng-blur="viewModel.uinFocus = false"
                           controller="inputController"> </input>
                </validation-message>

                <div class="service-common" ng-show="viewModel.info">
                    <div class="quick-search" data-ng-hide="viewModel.haveErrors || hideInfo">
                        <div ng-if="$locales.current() === 'ru'">
                            <div> {{viewModel.info.name.lastName}} {{viewModel.info.name.firstName}} {{viewModel.info.name.middleName}}</div>
                            <div> {{viewModel.info.fullName }} </div>
                        </div>
                        <div ng-if="$locales.current() === 'kz'">
                            <div> {{viewModel.info.name.lastName}} {{viewModel.info.name.firstName}} {{viewModel.info.name.middleName}}</div>
                            <div> {{ viewModel.info.fullNameKk }} </div>
                        </div>
                        <div ng-if="$locales.current() === 'en'">
                            <div> {{viewModel.info.name.lastName}} {{viewModel.info.name.firstName}} {{viewModel.info.name.middleName}}</div>
                            <div> {{ viewModel.info.fullNameEn!=null ? viewModel.info.fullNameEn:viewModel.info.fullNameKk }} </div>
                        </div>
                        <div class="tail"></div>
                    </div>
                </div>
            </div>

        </div>


        <div ng-show="viewModel.errors.noConnection">
            <input type="button" class="button-type button-subaction" ng-click="reconnect()" value="{{ 'iinSelect.retry' | translate }}"/>
        </div>
    </div>

    <org-search ng-show="viewModel.search" bin="uin" cancel="viewModel.search = false; uin = ''"></org-search>

</div>
