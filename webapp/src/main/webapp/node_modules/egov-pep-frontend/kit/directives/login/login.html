<div>
    <div>
        <table class="sys-controls">
            <tr>
                <td>
                    <h3 ng-if="$settings.isPod() && $root.$session.uin && $root.$session.individual != null" class="user-fullname">
                        {{$root.$session.individual.fullName}}
                    </h3>
                    <button ng-if="!$root.$session.uin"
                            class="button-type button-sys button-login-face-scan"
                            ng-click="showBioModal()"
                            ng-bind="'login.bio' | translate ">
                    </button>
                    <button ng-if="!$root.$session.uin"
                            class="button-type button-sys button-login"
                            ng-click="showModal()"
                            ng-bind="(!!$settings.isPod() ? 'login.operator' : 'login.enter') | translate ">
                    </button>
                    <button ng-if="$root.$session.uin" class="button-type button-sys button-logout"
                            ng-click="$root.$session.logout()">
                        {{ 'login.exit' | translate }}
                    </button>
                </td>
            </tr>
        </table>
    </div>
    <modal name="authModal" data-ng-title="eds.title" class="popup-eds" noscroll="true">
        <eds namespace="auth"></eds>
    </modal>
    <modal name="bioScannerError" title="login.error">
        <h3>{{'login.bioScannerUnavailable' | translate}}</h3>
    </modal>
    <modal name="bioAuthModal" title="login.bioAuth">
        <div ng-form="bioAuthForm">
            <div class="input-wrapper" ng-disabled="true">
                <label class="label-type">{{ ('iin.label') | translate }}</label>
                <div class="ctrl-inner-wrapper">
                    <input ng-value="iin" class="input-type kb_small"
                           type="text" maxlength="12" readonly="readonly"> </input>
                </div>
            </div>
            <button class="button-type button-action" ng-click="startScan(iin)">{{'login.startScan' | translate}}</button>
        </div>
    </modal>
    <modal name="bioAuthStatusWait" title="login.bioAuth">
        <h3 class="bioAuthStatus">{{ ('login.bioScannerStatus' + bioStatus) | translate }}</h3>
        <h3 ng-if="isSMS">{{ getSentText() }}</h3>

        <br/>
        <!--Сообщение что пользователь не зарегистрирован в МБГ -->
        <div data-ng-if="errorMessage" class="fieldset-pad">
            <h2>
                {{ 'login.errorMessage' | translate }}
            </h2>
        </div>
        <!--Конец: Сообщение что пользователь не зарегистрирован в МБГ-->

        <!--Блок ввода СМС кода-->
        <div ng-if="isSMS">
            <fieldset class="fieldset-pad">
                <div class="input-wrapper">
                    <label  class="label-type">{{ 'login.confirmSms' | translate }}</label>
                    <input id="code" ng-model="code" class="input-type" type="text"/>
                </div>
                <div class="input-wrapper">
                    <button type="button" class="button-type button-action"
                            ng-click="checkCode(code)" ng-disabled="!code">
                        {{ 'login.confirm' | translate }}
                    </button>
                </div>
                <div class="input-wrapper" ng-show="!isResend">
                    {{ 'login.resending' | translate }}
                </div>
                <div class="input-wrapper" ng-show="isResend">
                    {{ 'login.sended' | translate }}
                    <a class="link-extended" ng-click="newCode(iin)">
                        <span>{{ 'login.resend' | translate }}</span>
                    </a>
                </div>
            </fieldset>
        </div>
    </modal>
</div>
