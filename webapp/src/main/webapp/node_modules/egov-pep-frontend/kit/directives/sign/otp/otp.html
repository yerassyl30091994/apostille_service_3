<div class="egov-otp">

  <h2>
    {{ 'egov-otp.title' | translate }}
  </h2>

  <!--Блок ввода ИИН, доступен только на ПОДе-->
  <div data-ng-if="isPOD && !isSMS">
    <uin uin="user.iin" type="iin"></uin>
    <br/>
    <button class="button-type button-action" data-ng-disabled="!user.iin" ng-click="checkRegMBC()">{{ 'egov-otp.checkRegMBC' | translate }}</button>
  </div>
  <!--Конец: Блок ввода ИИН, доступен только на ПОДе-->

  <br/>

    <!--Блок отправки кода-->
    <div data-ng-if="regStatus && !isSMS"> <!--Показывается если пользователь зарегистрирован в МБГ-->
        <fieldset class="fieldset-pad">
            <div class="input-wrapper">
                <label  class="label-type otpm_bottom">
                  {{ 'egov-otp.yourNumber' | translate }} {{phone}}<br/>
                  {{ 'egov-otp.infoMessage' | translate }}
                </label>
            </div>
            <div class="input-wrapper otpcenter">
                <button
                    type="button"
                    class="button-type button-action button-sms-send-small"
                    ng-click="newCode()">
                    {{ 'egov-otp.sendSms' | translate }}
                </button>
            </div>
        </fieldset>
    </div>
    <!--Конец-->

    <br/>
    <!--Сообщение что пользователь не зарегистрирован в МБГ -->
    <div data-ng-if="errorMessage" class="fieldset-pad">
      <h2>
        {{ 'egov-otp.errorMessage' | translate }}
      </h2>
    </div>
    <!--Конец: Сообщение что пользователь не зарегистрирован в МБГ-->


    <!--Блок ввода СМС кода-->
    <div ng-if="isSMS">
        <fieldset class="fieldset-pad">
            <div class="input-wrapper">
                <label  class="label-type">{{ 'egov-otp.confirmSms' | translate }}</label>
                <input  id="code"
                        ng-model="code"
                        class="input-type"
                        type="text"/>
            </div>
            <div class="input-wrapper">
                <button type="button"
                        class="button-type button-action"
                        ng-click="sendCode(code)"
                        ng-disabled="!code">
                        {{ 'egov-otp.confirm' | translate }}
                </button>
            </div>
            <div class="input-wrapper" ng-show="!isResend">
                {{ 'egov-otp.resending' | translate }}
            </div>
            <div class="input-wrapper" ng-show="isResend">
                {{ 'egov-otp.sended' | translate }}
                <a class="link-extended" ng-click="newCode()">
                    <span>{{ 'egov-otp.resend' | translate }}</span>
                </a>
            </div>
        </fieldset>
    </div>
</div>
