angular.module("app").directive("loader", [ "$rootScope", function ($rootScope) {
        return {
            templateUrl: "kit/directives/loader/loader.html",
            restrict: "E",
            replace: true,
            controller: function($scope){
                $rootScope.$watch('$router.pendingRequests', function(value){
                    $scope.active = value > 0;
                });
            }
        };
    }
]);