<div class="validation-message-new" ng-init="$keyboard = $root.$keyboard">

    <div ng-transclude>
    </div>
    <a href="" class="to-bottom"
       ng-click="messageMinified = !messageMinified"

       ng-class="{
            'validation-message': inputFocused,
            'inline-validation-message': !inputFocused,
            'to-top': inputFocused && kbToBottoms > 0,
            'to-bottom': !inputFocused || kbToBottoms == 0,
            'notify-type': warning,
            'error-type': error
       }"

       ng-show="!messageMinified && ( warning || error )">
        <div ng-show="!inputFocused || kbToBottoms == 0" class="tail"></div>
        <div class="message-text">{{ (warning || error) | translate }}</div>
        <div ng-show="inputFocused && kbToBottoms > 0" class="tail"></div>
    </a>

</div>