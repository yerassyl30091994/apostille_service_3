angular.module("app").directive('approvalsTable', [function () {
    return {
        templateUrl: "kit/directives/approvals-table/approvals-table.html",
        scope: {
            approvals: "="
        },
        link: function ($scope, element, attrs) {
            $scope.getStatusName = function (status) {
                switch (status) {
                    case 'WAIT_FOR_APPROVAL':
                        return 'approvals-table.statuses.waitForApproval';
                    case 'APPROVED':
                        return 'approvals-table.statuses.approved';
                    case 'CANCELED':
                        return 'approvals-table.statuses.cancelled';
                    default:
                        throw new Error('Unknown approval status: ' + approval.status);
                }
            }
        }
    };
}]);

