<step id="search" name="{{name}}">
    <div class="middle-wrapper">
        <div ng-if="$declaration.model.availableFL">
            <h2>
                {{'selectPeriod.needFL' | translate}}
            </h2>
        </div>
        <div ng-if="! $declaration.model.availableFL">
            <flselect iin="$declaration.model.data.declarantUin" ng-if="$session.operator"></flselect>

            <datefield id="startdate" date="$declaration.model.data.startDate" label="selectPeriod.dateFrom"
                       ng-show="$declaration.model.data.selectedPeriod" required
                       minvalue="{{getMinDate().toString()}}"
                       maxvalue="{{getCurrentDate().toString()}}"></datefield>
            <datefield id="enddate" date="$declaration.model.data.endDate" label="selectPeriod.dateTo"
                       ng-show="$declaration.model.data.selectedPeriod" required
                       minvalue="{{getMinDate().toString()}}"
                       maxvalue="{{getCurrentDate().toString()}}"></datefield>

            <div class="period-switch">
                <ref ng-click="$declaration.model.data.selectedPeriod = !$declaration.model.data.selectedPeriod">{{
                    ($declaration.model.data.selectedPeriod ? 'selectPeriod.dontShowPeriod' : 'selectPeriod.showPeriod') | translate}}
                </ref>
            </div>

            <button id="searchSignButton" class="button-type button-action next-button"
                    ng-click="$declaration.goStep('sign')"
                    ng-disabled="!$declaration.isStepAllowed('sign')">{{ 'send' | translate}}
            </button>
        </div>
    </div>
</step>